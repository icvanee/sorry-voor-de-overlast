{% extends "base.                {% if match.location %}
                <p class="text-sm text-gray-500 mt-1">
                    <i class="fas fa-map-marker-alt"></i> {{ match.location }}
                </p>" %}

{% block title %}Wedstrijd Planning - {{ match.home_team }} vs {{ match.away_team }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <div class="flex justify-between items-start mb-4">
            <div>
                <h1 class="text-2xl font-bold text-gray-800">
                    Wedstrijd Planning
                </h1>
                <h2 class="text-xl text-gray-600">
                    {{ match.home_team }} vs {{ match.away_team }}
                </h2>
                <p class="text-gray-500">{{ match.match_date }}</p>
                {% if match.location %}
                <p class="text-sm text-gray-500">
                    <i class="fas fa-map-marker-alt"></i> {{ match.location }}
                </p>
                {% endif %}
            </div>
            <div class="flex gap-2">
                <a href="{{ url_for('matches.match_detail', match_id=match.id) }}" 
                   class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                    <i class="fas fa-arrow-left"></i> Terug naar Wedstrijd
                </a>
                <a href="{{ url_for('planning.list_versions') }}" 
                   class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    <i class="fas fa-calendar"></i> Alle Planningen
                </a>
            </div>
        </div>
        
        <!-- Match Info -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="bg-gray-50 p-3 rounded">
                <h4 class="font-semibold text-gray-700 text-sm">Type</h4>
                <p class="text-lg">
                    {% if match.is_cup_match %}
                        <span class="text-orange-600">üèÜ Beker</span>
                    {% else %}
                        <span class="text-purple-600">üèÜ Competitie</span>
                    {% endif %}
                </p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
                <h4 class="font-semibold text-gray-700 text-sm">Thuis/Uit</h4>
                <p class="text-lg">
                    {% if match.is_home %}
                        <span class="text-green-600">üè† Thuis</span>
                    {% else %}
                        <span class="text-blue-600">‚úàÔ∏è Uit</span>
                    {% endif %}
                </p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
                <h4 class="font-semibold text-gray-700 text-sm">Planning Status</h4>
                <p class="text-lg">
                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm">
                        üîÑ In Planning
                    </span>
                </p>
            </div>
            <div class="bg-gray-50 p-3 rounded">
                <h4 class="font-semibold text-gray-700 text-sm">Team Grootte</h4>
                <p class="text-lg text-gray-600">4 spelers</p>
            </div>
        </div>
    </div>

    <!-- Planning Versions -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h3 class="text-lg font-bold text-gray-800 mb-4">Planning Versies</h3>
        
        {% if versions %}
            <div class="space-y-3">
                {% for version in versions %}
                <div class="border rounded-lg p-4 {% if version.is_final %}bg-green-50 border-green-200{% else %}bg-gray-50 border-gray-200{% endif %}">
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-semibold text-gray-800">
                                {{ version.name }}
                                {% if version.is_final %}
                                    <span class="text-green-600 text-sm ml-2">
                                        <i class="fas fa-check-circle"></i> Definitief
                                    </span>
                                {% endif %}
                            </h4>
                            {% if version.description %}
                            <p class="text-sm text-gray-600 mt-1">{{ version.description }}</p>
                            {% endif %}
                            <p class="text-xs text-gray-500 mt-2">
                                Gemaakt op: {{ version.created_at }}
                            </p>
                        </div>
                        <div class="flex gap-2">
                            <a href="{{ url_for('planning.view_version', version_id=version.id) }}" 
                               class="text-blue-600 hover:text-blue-800 text-sm">
                                <i class="fas fa-eye"></i> Bekijken
                            </a>
                            {% if not version.is_final %}
                            <a href="{{ url_for('planning.edit_match_planning', version_id=version.id, match_id=match.id) }}" 
                               class="text-green-600 hover:text-green-800 text-sm">
                                <i class="fas fa-edit"></i> Bewerken
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-8">
                <div class="text-gray-400 text-4xl mb-4">
                    <i class="fas fa-calendar-times"></i>
                </div>
                <h4 class="text-lg font-semibold text-gray-600 mb-2">Geen Planning Versies</h4>
                <p class="text-gray-500 mb-4">Er zijn nog geen planning versies gemaakt voor deze wedstrijd.</p>
                <a href="{{ url_for('planning.create_version') }}" 
                   class="inline-block bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">
                    <i class="fas fa-plus"></i> Nieuwe Planning Maken
                </a>
            </div>
        {% endif %}
    </div>

    <!-- Quick Actions -->
    <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-lg font-bold text-gray-800 mb-4">Snelle Acties</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="border rounded-lg p-4 text-center hover:bg-gray-50">
                <div class="text-blue-500 text-2xl mb-2">
                    <i class="fas fa-users"></i>
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">Speler Beschikbaarheid</h4>
                <p class="text-sm text-gray-600 mb-3">Bekijk wie er beschikbaar is voor deze wedstrijd</p>
                <a href="{{ url_for('matches.match_availability', match_id=match.id) }}" 
                   class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                    Beschikbaarheid Bekijken ‚Üí
                </a>
            </div>
            
            <div class="border rounded-lg p-4 text-center hover:bg-gray-50">
                <div class="text-green-500 text-2xl mb-2">
                    <i class="fas fa-magic"></i>
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">Automatische Planning</h4>
                <p class="text-sm text-gray-600 mb-3">Laat het systeem een planning genereren</p>
                <button class="text-green-600 hover:text-green-800 text-sm font-medium" 
                        onclick="generateAutoPlanning()">
                    Auto Planning ‚Üí
                </button>
            </div>
            
            <div class="border rounded-lg p-4 text-center hover:bg-gray-50">
                <div class="text-orange-500 text-2xl mb-2">
                    <i class="fas fa-copy"></i>
                </div>
                <h4 class="font-semibold text-gray-800 mb-2">Planning Kopi√´ren</h4>
                <p class="text-sm text-gray-600 mb-3">Kopieer van een andere wedstrijd</p>
                <button class="text-orange-600 hover:text-orange-800 text-sm font-medium" 
                        onclick="copyPlanning()">
                    Planning Kopi√´ren ‚Üí
                </button>
            </div>
        </div>
    </div>

    <!-- Team Composition Guidelines -->
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6">
        <h3 class="text-lg font-bold text-blue-800 mb-3">
            <i class="fas fa-lightbulb"></i> Team Samenstelling Tips
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
                <h4 class="font-semibold text-blue-700 mb-2">Partner Voorkeuren</h4>
                <ul class="text-blue-600 space-y-1">
                    <li>‚Ä¢ Respecteer partner koppelingen waar mogelijk</li>
                    <li>‚Ä¢ Balanceer ervaren en nieuwe spelers</li>
                    <li>‚Ä¢ Houd rekening met beschikbaarheid</li>
                </ul>
            </div>
            <div>
                <h4 class="font-semibold text-blue-700 mb-2">Team Balans</h4>
                <ul class="text-blue-600 space-y-1">
                    <li>‚Ä¢ 4 spelers per team (2 koppels)</li>
                    <li>‚Ä¢ Mix van sterktes binnen team</li>
                    <li>‚Ä¢ Roteer spelers over het seizoen</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Auto Planning Modal -->
<div id="autoPlanningModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-md">
        <h3 class="text-lg font-bold text-gray-900 mb-4">Automatische Planning Genereren</h3>
        <p class="text-gray-600 mb-4">
            Het systeem zal automatisch een team samenstellen op basis van:
        </p>
        <ul class="text-sm text-gray-600 mb-6 space-y-1">
            <li>‚Ä¢ Speler beschikbaarheid</li>
            <li>‚Ä¢ Partner voorkeuren</li>
            <li>‚Ä¢ Gelijke verdeling van speeltijd</li>
        </ul>
        <div class="flex justify-end space-x-3">
            <button onclick="closeAutoPlanningModal()" 
                    class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400">
                Annuleren
            </button>
            <button onclick="confirmAutoPlanning()" 
                    class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
                Genereren
            </button>
        </div>
    </div>
</div>

<script>
function generateAutoPlanning() {
    document.getElementById('autoPlanningModal').classList.remove('hidden');
    document.getElementById('autoPlanningModal').classList.add('flex');
}

function closeAutoPlanningModal() {
    document.getElementById('autoPlanningModal').classList.add('hidden');
    document.getElementById('autoPlanningModal').classList.remove('flex');
}

function confirmAutoPlanning() {
    // TODO: Implement auto planning generation
    alert('Automatische planning functie komt binnenkort beschikbaar!');
    closeAutoPlanningModal();
}

function copyPlanning() {
    // TODO: Implement planning copy functionality
    alert('Planning kopi√´ren functie komt binnenkort beschikbaar!');
}

// Close modal when clicking outside
document.getElementById('autoPlanningModal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeAutoPlanningModal();
    }
});
</script>
{% endblock %}
